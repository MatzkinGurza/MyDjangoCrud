{% extends 'base.html' %}
{% block title %}Blog - Home{% endblock %}

{% block content %}

<h1>Posts</h1>
    {% for post in object_list %}
    <div class="card mb-3">
        <div class="row g-0">
            {% if post.image_url %}
                <div class="col-md-4">
                    <img src="{{ post.image_url }}" alt="Imagem do Post" class="card-img-top">
                </div>
            {% endif %}
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title"><a href="{% url 'article-detail' post.pk %}"> {{post.title}}</a></h5> | {{post.author}} on {{post.category}}
                    <p class="card-text">{{post.body|truncatewords:100|safe}}</p>
                    {% if user.is_authenticated %}
                    <small><a class="btn btn-primary" href="{% url 'update_post' post.pk %}">Edit</a></small>
                    <small><a class="btn btn-primary" href="{% url 'delete_post' post.pk %}">Delete</a></small>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="card-footer">
            <small class="text-body-secondary">{{post.post_date|date:"d/m/Y" }} - {{post.author.last_name}}, {{post.author.first_name}}</small>
        </div>
    </div>
   
        <!-- <a href="{% url 'article-detail' post.pk %}"> {{post.title}}</a> | {{post.author}}
        {% if post.image_url %}
        <br/>
        <img src="{{ post.image_url }}" alt="Imagem do Post" class="img-thumbnail w-25">
        {% endif %}<br/>
         {{post.body|truncatewords:100|safe}}<br/> trunca em 100 palavras para nÃ£o poluir demais o ambiente -->
        <!-- - {{post.author.last_name}}, {{post.author.first_name}}<br/>
        <small>{{post.post_date|date:"d/m/Y" }}</small><br/>
        {{post.author.email}}<br/>
        {% if user.is_authenticated %}
        <small><a href="{% url 'update_post' post.pk %}">(Edit)</a></small><br/>
        <small><a href="{% url 'delete_post' post.pk %}">(Delete)</a></small>
        {% endif %} -->
        
    {% endfor %}

{% endblock %}